{"version":3,"file":"bundle.js","sources":["../src/eventBtnFormExpend.js","../src/addExpense.js"],"sourcesContent":["const button = document.getElementById('toggle-form-gasto')\r\nconst spendForm = document.getElementById('formulario-gasto')\r\n\r\nconst openSpendForm = () => {\r\n    button.classList.add('agregar-gasto__btn--active')\r\n    spendForm.classList.add('formulario-gasto--active')\r\n}\r\n\r\nconst closeSpendForm = () => {\r\n    button.classList.remove('agregar-gasto__btn--active')\r\n    spendForm.classList.remove('formulario-gasto--active')\r\n}\r\n\r\nbutton.addEventListener('click', (e) => {\r\n    if ([...spendForm.classList].includes('formulario-gasto--active')) {\r\n        closeSpendForm()\r\n    } else {\r\n        openSpendForm()\r\n    }\r\n})\r\n","const form = document.querySelector('#formulario-gasto form')\r\nconst description = form.descripcion\r\nconst price = form.precio\r\n\r\nconst expRegDescription = /^[a-zA-Z0-9\\_\\- ]{4,30}$/\r\nconst expRegPrice = /^\\d+(\\.\\d+)?$/\r\n\r\nconst checkDescription = () => {\r\n    if (!expRegDescription.test(descripcion.value)) {\r\n        description.classList.add('formulario-gasto__input--error')\r\n\r\n        form.descripcion.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.add('formulario-gasto__leyenda--active')\r\n\r\n        return false\r\n    } else {\r\n        description.classList.remove('formulario-gasto__input--error')\r\n\r\n        form.descripcion.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.remove('formulario-gasto__leyenda--active')\r\n\r\n        return true\r\n    }\r\n}\r\n\r\nconst checkPrice = () => {\r\n    if (!expRegPrice.test(precio.value)) {\r\n        price.classList.add('formulario-gasto__input--error')\r\n\r\n        form.precio.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.add('formulario-gasto__leyenda--active')\r\n\r\n        return false\r\n    } else {\r\n        price.classList.remove('formulario-gasto__input--error')\r\n\r\n        form.precio.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.remove('formulario-gasto__leyenda--active')\r\n\r\n        return true\r\n    }\r\n}\r\n\r\n// EventListener para cuando el input de DescripciÃ³n pierde el focus\r\ndescription.addEventListener('blur', (e) => checkDescription())\r\n// EventListener para cuando el input tiene un error y el usuario comienza a escribir para corregirlo\r\ndescription.addEventListener('keyup', (e) => {\r\n    if ([...e.target.classList].includes('formulario-gasto__input--error')) {\r\n        checkDescription()\r\n    }\r\n})\r\n\r\n// EventListener para cuando el input de Precio pierde el focus\r\nprice.addEventListener('blur', (e) => checkPrice())\r\n// EventListener para cuando el input tiene un error y el usuario comienza a escribir para corregirlo\r\nprice.addEventListener('keyup', (e) => {\r\n    if ([...e.target.classList].includes('formulario-gasto__input--error')) {\r\n        checkPrice()\r\n    }\r\n})\r\n\r\nform.addEventListener('submit', (e) => {\r\n    e.preventDefault()\r\n\r\n    if (checkDescription() && checkPrice()) {\r\n        const newExpenditure = {\r\n            id: '1',\r\n            date: new Date(),\r\n            description: description.value,\r\n            price: price.value,\r\n        }\r\n\r\n        const savedExpenses = JSON.parse(\r\n            window.localStorage.getItem('expenses')\r\n        )\r\n        // Comprobamos si hay gastos guardados en localStorage\r\n        if (savedExpenses) {\r\n            // Creamos una lista nueva de gastos que incluya el nuevo o nuevos\r\n            const newEspenses = [...savedExpenses, newExpenditure]\r\n            window.localStorage.setItem('expenses', JSON.stringify(newEspenses))\r\n        } else {\r\n            // Agregamos el primer gasto\r\n            window.localStorage.setItem(\r\n                'expenses',\r\n                JSON.stringify([{ ...newExpenditure }])\r\n            )\r\n        }\r\n    }\r\n})\r\n"],"names":[],"mappings":"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"}